---
alwaysApply: true
---
## ğŸ§© Komponens AnatÃ³mia

### 1. Navigation Component

#### Szerepe Ã©s FelelÅ‘ssÃ©ge
```typescript
/**
 * NAVIGATION COMPONENT - Tab-alapÃº NavigÃ¡ciÃ³s Rendszer
 * 
 * FelelÅ‘ssÃ©g:
 * - Top-level alkalmazÃ¡s navigÃ¡ciÃ³
 * - Tab state management koordinÃ¡ciÃ³
 * - Brand identity megjelenÃ­tÃ©se
 * - System status indicator
 * 
 * Komponens tÃ­pus: PURE UI COMPONENT
 * - Nincs kÃ¶zvetlen backend fÃ¼ggÅ‘sÃ©g
 * - Teljes state parent-tÅ‘l Ã©rkezik
 * - Stateless, predictable rendering
 */
```

#### Props Interface
```typescript
interface NavigationProps {
  activeTab: NavigationTab;           // Input: jelenleg aktÃ­v tab
  onTabChange: (tab: NavigationTab) => void; // Output: tab vÃ¡ltÃ¡s callback
}

type NavigationTab = 'dashboard' | 'search' | 'products' | 'monitoring' | 'admin';
```

#### Kapcsolatok
```
Navigation Component
â”‚
â”œâ”€â”€ INPUT (Props)
â”‚   â”œâ”€â”€ activeTab â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ parent component (page.tsx)
â”‚   â””â”€â”€ onTabChange â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ parent component (page.tsx)
â”‚
â”œâ”€â”€ OUTPUT (Events)
â”‚   â””â”€â”€ onTabChange() â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ parent component (page.tsx)
â”‚
â””â”€â”€ DEPENDENCIES
    â”œâ”€â”€ React hooks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ useState (ha belsÅ‘ state lenne)
    â”œâ”€â”€ SVG Icons â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Inline, self-contained
    â””â”€â”€ Tailwind CSS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Design system
```

---

### 2. Dashboard Component

#### Szerepe Ã©s FelelÅ‘ssÃ©ge
```typescript
/**
 * DASHBOARD COMPONENT - KÃ¶zponti KeresÃ©si Ã©s ÃttekintÅ‘ InterfÃ©sz
 * 
 * FelelÅ‘ssÃ©g:
 * - KÃ¶zponti keresÅ‘sÃ¡v mÅ±kÃ¶dtetÃ©se
 * - Real-time rendszer statisztikÃ¡k megjelenÃ­tÃ©se
 * - Gyors kategÃ³ria elÃ©rÃ©sek biztosÃ­tÃ¡sa
 * - Sample query suggestions
 * 
 * Komponens tÃ­pus: DATA INTEGRATION COMPONENT
 * - Backend API integrÃ¡ciÃ³ (statistikÃ¡khoz)
 * - Loading states kezelÃ©se
 * - Error boundary support
 */
```

#### State Management
```typescript
// Local State
const [searchQuery, setSearchQuery] = useState<string>('');
const [isSearchFocused, setIsSearchFocused] = useState<boolean>(false);
const [stats, setStats] = useState<SystemStats>({
  totalProducts: 0,
  totalManufacturers: 0,
  lastUpdated: null
});

// Loading States
const [isLoading, setIsLoading] = useState<boolean>(true);
const [error, setError] = useState<string | null>(null);
```

#### API IntegrÃ¡ciÃ³
```typescript
// Data Loading Flow
useEffect(() => {
  const loadSystemStats = async () => {
    setIsLoading(true);
    try {
      // Parallel API calls optimalizÃ¡ciÃ³hoz
      const [products, manufacturers] = await Promise.all([
        api.getProducts(1000, 0),      // Large limit for count
        api.getManufacturers(),        // All manufacturers
      ]);
      
      // Transform raw data to display format
      setStats({
        totalProducts: products.length,
        totalManufacturers: manufacturers.length,
        lastUpdated: new Date().toISOString()
      });
      
    } catch (error) {
      setError(error.message);
    } finally {
      setIsLoading(false);
    }
  };
  
  loadSystemStats();
}, []); // Only on mount
```

#### Kapcsolatok
```
Dashboard Component
â”‚
â”œâ”€â”€ INPUT (Props)
â”‚   â””â”€â”€ onSearchSubmit â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ parent component (search handler)
â”‚
â”œâ”€â”€ OUTPUT (Events)
â”‚   â”œâ”€â”€ onSearchSubmit() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ parent component
â”‚   â””â”€â”€ onCategorySelect() â”€â”€â”€â”€â”€â”€â”€â”€â†’ parent component
â”‚
â”œâ”€â”€ STATE (Internal)
â”‚   â”œâ”€â”€ searchQuery
â”‚   â”œâ”€â”€ isSearchFocused
â”‚   â”œâ”€â”€ stats (from API)
â”‚   â”œâ”€â”€ isLoading
â”‚   â””â”€â”€ error
â”‚
â””â”€â”€ DEPENDENCIES
    â”œâ”€â”€ api.ts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Backend data loading
    â”œâ”€â”€ React hooks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ useState, useEffect
    â””â”€â”€ Loading animations â”€â”€â”€â”€â”€â”€â”€â”€â”€ UI feedback
```

---

### 3. ChatWidget Component

#### Szerepe Ã©s FelelÅ‘ssÃ©ge
```typescript
/**
 * CHATWIDGET COMPONENT - RAG-alapÃº AI Asszisztens
 * 
 * FelelÅ‘ssÃ©g:
 * - Floating chat UI biztosÃ­tÃ¡sa
 * - TermÃ©szetes nyelvÅ± RAG keresÃ©sek vÃ©grehajtÃ¡sa
 * - Conversational AI interaction pattern
 * - TermÃ©kajÃ¡nlÃ¡sok megjelenÃ­tÃ©se
 * 
 * Komponens tÃ­pus: COMPLEX INTEGRATION COMPONENT
 * - Heavy backend API usage (RAG search)
 * - Complex state management (conversation history)
 * - Real-time UI feedback (typing indicators)
 * - Product recommendation display
 */
```

#### Komplex State Management
```typescript
// Widget UI State
const [isOpen, setIsOpen] = useState<boolean>(false);
const [isMinimized, setIsMinimized] = useState<boolean>(false);

// Conversation State
const [messages, setMessages] = useState<Message[]>([
  {
    id: '1',
    type: 'ai',
    content: 'Szia! Ã‰pÃ­tÅ‘anyag szakÃ©rtÅ‘ asszisztens vagyok...',
    timestamp: new Date(),
  }
]);

// Input State
const [inputValue, setInputValue] = useState<string>('');
const [isTyping, setIsTyping] = useState<boolean>(false);

// Scroll Management
const messagesEndRef = useRef<HTMLDivElement>(null);
```

#### RAG API Integration Flow
```typescript
/**
 * ============================================================================
 * COMPLEX RAG SEARCH FLOW
 * ============================================================================
 */
const handleSubmit = async (e: React.FormEvent) => {
  // 1. User Message Processing
  const userMessage: Message = {
    id: Date.now().toString(),
    type: 'user',
    content: inputValue.trim(),
    timestamp: new Date(),
  };
  
  // 2. UI State Updates
  setMessages(prev => [...prev, userMessage]);
  setInputValue('');
  setIsTyping(true);

  try {
    // 3. Backend RAG Search
    const searchResponse = await api.searchRAG(userMessage.content, 5);
    
    // 4. Contextual AI Response Generation
    const aiContent = generateAIResponse(userMessage.content, searchResponse);
    
    // 5. AI Message with Products
    const aiMessage: Message = {
      id: (Date.now() + 1).toString(),
      type: 'ai',
      content: aiContent,
      timestamp: new Date(),
      products: searchResponse.results.slice(0, 3), // Top 3 products
    };
    
    setMessages(prev => [...prev, aiMessage]);
    
  } catch (error) {
    // 6. Error Handling (Graceful Degradation)
    const errorMessage: Message = {
      id: (Date.now() + 1).toString(),
      type: 'ai',
      content: 'SajnÃ¡lom, jelenleg nem tudok kapcsolÃ³dni az adatbÃ¡zishoz.',
      timestamp: new Date(),
    };
    
    setMessages(prev => [...prev, errorMessage]);
  } finally {
    setIsTyping(false);
  }
};
```

#### Auto-scroll Effect
```typescript
// Side Effects Management
useEffect(() => {
  messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
}, [messages]); // Trigger on every message change
```

#### Kapcsolatok
```
ChatWidget Component
â”‚
â”œâ”€â”€ INPUT (Props)
â”‚   â””â”€â”€ onClose? â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ parent component (optional)
â”‚
â”œâ”€â”€ OUTPUT (Events)
â”‚   â””â”€â”€ onClose?() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ parent component (optional)
â”‚
â”œâ”€â”€ STATE (Complex Internal)
â”‚   â”œâ”€â”€ Widget UI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ isOpen, isMinimized
â”‚   â”œâ”€â”€ Conversation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ messages[], inputValue
â”‚   â”œâ”€â”€ Loading â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ isTyping
â”‚   â””â”€â”€ Scroll â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ messagesEndRef
â”‚
â””â”€â”€ DEPENDENCIES
    â”œâ”€â”€ api.ts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ RAG search integration
    â”œâ”€â”€ SearchResult[] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Type definitions
    â”œâ”€â”€ React hooks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ useState, useRef, useEffect
    â””â”€â”€ Auto-scroll â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Side effect management
```

---

## ğŸ“¡ API Service Layer

### KÃ¶zponti Backend KommunikÃ¡ciÃ³

```typescript
/**
 * API SERVICE - CentralizÃ¡lt Backend Integration
 * 
 * FelelÅ‘ssÃ©g:
 * - Type-safe API communication
 * - CentralizÃ¡lt error handling
 * - Request/response transformation
 * - Endpoint abstraction
 */

export class ApiService {
  // Generic request method
  private async request<T>(endpoint: string, options?: RequestInit): Promise<T>
  
  // Product endpoints
  async getProducts(limit = 100, offset = 0): Promise<Product[]>
  async getProduct(id: number): Promise<Product>
  
  // Category endpoints  
  async getCategories(): Promise<Category[]>
  
  // Manufacturer endpoints
  async getManufacturers(): Promise<Manufacturer[]>
  
  // Search endpoints (RAG)
  async searchRAG(query: string, limit = 10): Promise<SearchResponse>
  
  // System endpoints
  async healthCheck(): Promise<{ status: string }>
  
  // Admin endpoints
  async triggerScraping(scraperType: 'datasheet' | 'brochure'): Promise<{ task_id: string }>
}
```

### Backend Endpoint Mapping
```
API Service Methods              Backend Endpoints
â”œâ”€â”€ getProducts()       â”€â”€â”€â”€â”€â”€â”€â”€â†’ GET /products?limit={}&offset={}
â”œâ”€â”€ getProduct(id)      â”€â”€â”€â”€â”€â”€â”€â”€â†’ GET /products/{id}
â”œâ”€â”€ getCategories()     â”€â”€â”€â”€â”€â”€â”€â”€â†’ GET /categories
â”œâ”€â”€ getManufacturers()  â”€â”€â”€â”€â”€â”€â”€â”€â†’ GET /manufacturers
â”œâ”€â”€ searchRAG()         â”€â”€â”€â”€â”€â”€â”€â”€â†’ POST /search/rag
â”œâ”€â”€ healthCheck()       â”€â”€â”€â”€â”€â”€â”€â”€â†’ GET /health
â””â”€â”€ triggerScraping()   â”€â”€â”€â”€â”€â”€â”€â”€â†’ POST /api/v1/scrape
```

---

## ğŸ”„ AdatÃ¡ramlÃ¡si Diagramok

### 1. Application Startup Flow

```mermaid
sequenceDiagram
    participant U as User
    participant P as page.tsx
    participant N as Navigation
    participant D as Dashboard
    participant A as API Service
    participant B as Backend
    
    U->>P: Load application
    P->>N: Render navigation (activeTab: 'dashboard')
    P->>D: Render dashboard
    
    D->>A: getProducts(1000, 0)
    A->>B: GET /products?limit=1000&offset=0
    B-->>A: Product[]
    A-->>D: Product[]
    
    D->>A: getManufacturers()
    A->>B: GET /manufacturers
    B-->>A: Manufacturer[]
    A-->>D: Manufacturer[]
    
    D->>D: Calculate stats
    D-->>U: Display dashboard with real data
```

### 2. RAG Search Flow (ChatWidget)

```mermaid
sequenceDiagram
    participant U as User
    participant C as ChatWidget
    participant A as API Service
    participant B as Backend
    participant CH as ChromaDB
    participant PG as PostgreSQL
    
    U->>C: Type question "hÅ‘szigetelÃ©s csalÃ¡di hÃ¡zhoz"
    C->>C: Add user message to state
    C->>A: searchRAG(query, 5)
    
    A->>B: POST /search/rag
    B->>CH: Embedding search (similarity)
    CH-->>B: Vector search results
    B->>PG: Enrich with product data
    PG-->>B: Full product information
    B-->>A: SearchResponse with products
    
    A-->>C: SearchResponse
    C->>C: Generate AI response
    C->>C: Add AI message with products
    C-->>U: Display AI response + product cards
```

### 3. Tab Navigation Flow

```mermaid
sequenceDiagram
    participant U as User
    participant N as Navigation
    participant P as page.tsx
    participant C as Content Components
    
    U->>N: Click "AI KeresÃ©s" tab
    N->>P: onTabChange('search')
    P->>P: setActiveTab('search')
    P->>N: Re-render with activeTab='search'
    P->>C: Render SearchInterface component
    C-->>U: Display search interface
```

---

## ğŸ”— Komponens FÃ¼ggÅ‘sÃ©gi TÃ©rkÃ©p

### Hierarchikus FÃ¼ggÅ‘sÃ©gek

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ROOT LEVEL                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  page.tsx (Main Application)                               â”‚
â”‚  â”œâ”€â”€ State: activeTab, searchQuery                         â”‚
â”‚  â”œâ”€â”€ Effects: Route management                             â”‚
â”‚  â””â”€â”€ Renders: Navigation + Content Router + ChatWidget     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                      â”‚                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Navigation   â”‚    â”‚    Dashboard     â”‚    â”‚   ChatWidget   â”‚
â”‚                â”‚    â”‚                  â”‚    â”‚                â”‚
â”‚  Dependencies: â”‚    â”‚  Dependencies:   â”‚    â”‚  Dependencies: â”‚
â”‚  â€¢ React hooksâ”‚    â”‚  â€¢ React hooks   â”‚    â”‚  â€¢ React hooks â”‚
â”‚  â€¢ SVG icons  â”‚    â”‚  â€¢ api.ts â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â†’ api.ts       â”‚
â”‚  â€¢ Tailwind   â”‚    â”‚  â€¢ Loading UI    â”‚    â”‚  â€¢ Auto-scroll â”‚
â”‚                â”‚    â”‚  â€¢ Error states â”‚    â”‚  â€¢ Complex stateâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚     api.ts         â”‚
                      â”‚                    â”‚
                      â”‚  Dependencies:     â”‚
                      â”‚  â€¢ Native fetch    â”‚
                      â”‚  â€¢ Type definitionsâ”‚
                      â”‚  â€¢ Error handling  â”‚
                      â”‚                    â”‚
                      â”‚  Endpoints:        â”‚
                      â”‚  â€¢ Products        â”‚
                      â”‚  â€¢ Categories      â”‚
                      â”‚  â€¢ Manufacturers   â”‚
                      â”‚  â€¢ RAG Search      â”‚
                      â”‚  â€¢ Health Check    â”‚
                      â”‚  â€¢ Admin Actions   â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Cross-Cutting Concerns

```
SHARED UTILITIES:
â”œâ”€â”€ Type Definitions â”€â”€â”€â”€â”€â”€ Minden komponens hasznÃ¡lja
â”‚   â”œâ”€â”€ Product
â”‚   â”œâ”€â”€ Manufacturer  
â”‚   â”œâ”€â”€ Category
â”‚   â”œâ”€â”€ SearchResult
â”‚   â””â”€â”€ SearchResponse
â”‚
â”œâ”€â”€ Design System â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Tailwind CSS classes
â”‚   â”œâ”€â”€ Color palette
â”‚   â”œâ”€â”€ Typography scale
â”‚   â”œâ”€â”€ Spacing system
â”‚   â””â”€â”€ Animation definitions
â”‚
â”œâ”€â”€ Error Handling â”€â”€â”€â”€â”€â”€â”€â”€ Konzisztens error patterns
â”‚   â”œâ”€â”€ Network errors
â”‚   â”œâ”€â”€ API errors
â”‚   â”œâ”€â”€ Loading states
â”‚   â””â”€â”€ User feedback
â”‚
â””â”€â”€ Performance â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Optimization patterns
    â”œâ”€â”€ Component re-renders
    â”œâ”€â”€ API call deduplication
    â”œâ”€â”€ Memory management
    â””â”€â”€ Bundle size optimization
```

---

## ğŸ¯ Data Flow Patterns

### 1. Unidirectional Data Flow

```
Parent Component (page.tsx)
â”‚
â”œâ”€â”€ Props Down â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Child Components
â”‚   â”œâ”€â”€ activeTab â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Navigation
â”‚   â”œâ”€â”€ onSearchSubmit â”€â”€â”€â”€â”€â”€â”€â”€â–º Dashboard  
â”‚   â””â”€â”€ onClose â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º ChatWidget
â”‚
â””â”€â”€ Events Up â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Child Components
    â”œâ”€â”€ onTabChange â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Navigation
    â”œâ”€â”€ onSearchSubmit â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€ Dashboard
    â””â”€â”€ onClose â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ChatWidget
```

### 2. State Management Patterns

```
LOCAL STATE (Component Level):
â”œâ”€â”€ Navigation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ STATELESS (Pure UI)
â”œâ”€â”€ Dashboard â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Mixed (UI + API data)
â””â”€â”€ ChatWidget â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ STATEFUL (Complex interaction)

SHARED STATE (Props Drilling):
â”œâ”€â”€ activeTab â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ page.tsx â†’ Navigation
â”œâ”€â”€ search handlers â”€â”€â”€â”€â”€ page.tsx â†’ Dashboard
â””â”€â”€ widget visibility â”€â”€â”€â”€ page.tsx â†’ ChatWidget

SERVER STATE (API Integration):
â”œâ”€â”€ Product data â”€â”€â”€â”€â”€â”€â”€â”€ Dashboard, ChatWidget
â”œâ”€â”€ Category data â”€â”€â”€â”€â”€â”€â”€ Dashboard
â”œâ”€â”€ Manufacturer data â”€â”€â”€â”€ Dashboard
â””â”€â”€ Search results â”€â”€â”€â”€â”€â”€ ChatWidget
```

### 3. Error Boundary Strategy

```
ERROR HANDLING LEVELS:
â”œâ”€â”€ API Level â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Centralized in api.ts
â”‚   â”œâ”€â”€ Network errors
â”‚   â”œâ”€â”€ HTTP status errors
â”‚   â””â”€â”€ JSON parsing errors
â”‚
â”œâ”€â”€ Component Level â”€â”€â”€â”€â”€â”€ Local error states
â”‚   â”œâ”€â”€ Loading indicators
â”‚   â”œâ”€â”€ Error messages
â”‚   â””â”€â”€ Retry mechanisms
â”‚
â””â”€â”€ Application Level â”€â”€â”€â”€ Global error boundaries
    â”œâ”€â”€ Unhandled errors
    â”œâ”€â”€ Crash reporting
    â””â”€â”€ Graceful degradation
```

---

## ğŸ”§ Development Guidelines

### 1. Komponens LÃ©trehozÃ¡si Checklist

```yaml
New Component Creation:
  Structure:
    - [ ] Create component file in appropriate directory
    - [ ] Define TypeScript interface for props
    - [ ] Export default function component
    - [ ] Add comprehensive JSDoc comments
  
  Integration:
    - [ ] Import necessary dependencies
    - [ ] Add to parent component imports
    - [ ] Test with real data
    - [ ] Verify type safety
  
  Documentation:
    - [ ] Update component relationships diagram
    - [ ] Document new dependencies
    - [ ] Add usage examples
    - [ ] Update this documentation
```

### 2. API Integration Pattern

```typescript
// Standard API integration pattern for new components
const [data, setData] = useState<DataType[]>([]);
const [isLoading, setIsLoading] = useState<boolean>(true);
const [error, setError] = useState<string | null>(null);

useEffect(() => {
  const loadData = async () => {
    setIsLoading(true);
    try {
      const result = await api.getData();
      setData(result);
    } catch (error) {
      setError(error.message);
    } finally {
      setIsLoading(false);
    }
  };
  
  loadData();
}, []);
```

### 3. Performance Best Practices

```yaml
Performance Guidelines:
  Component Optimization:
    - Use React.memo() for expensive pure components
    - Implement useMemo() for heavy calculations
    - UseCallback() for event handlers passed as props
    - Avoid inline object/function creation in renders
  
  API Optimization:
    - Implement request deduplication
    - Add appropriate loading states
    - Cache static data (categories, manufacturers)
    - Use pagination for large datasets
  
  Bundle Optimization:
    - Code splitting for admin components
    - Lazy loading for non-critical features
    - Tree shaking unused Tailwind classes
    - Optimize bundle analyzer reports
```

---

## ğŸ“Š Component Metrics

### Complexity Analysis

| Component | Lines of Code | Dependencies | API Calls | State Variables |
|-----------|---------------|--------------|-----------|-----------------|
| Navigation | ~150 | 1 (React) | 0 | 0 (stateless) |
| Dashboard | ~200 | 2 (React, api.ts) | 2 | 4 |
| ChatWidget | ~400 | 3 (React, api.ts, types) | 1 | 6 |
| API Service | ~300 | 1 (fetch) | - | 0 |

### Performance Metrics

| Component | First Render | API Load Time | Re-render Cost | Memory Usage |
|-----------|--------------|---------------|----------------|--------------|
| Navigation | < 5ms | N/A | < 1ms | Low |
| Dashboard | < 10ms | 200-500ms | < 5ms | Medium |
| ChatWidget | < 15ms | 300-800ms | < 10ms | High |

---

## ğŸš€ Future Architecture Enhancements

### 1. State Management Evolution

```yaml
Current: Props Drilling + Local State
Future Options:
  - Context API for shared state
  - Zustand for simple global state
  - React Query for server state
  - Jotai for atomic state management
```

### 2. Performance Enhancements

```yaml
Planned Optimizations:
  - React Query for server state caching
  - Virtual scrolling for large product lists
  - Service Worker for offline capability
  - Progressive Web App (PWA) features
```

### 3. Testing Strategy

```yaml
Testing Pyramid:
  Unit Tests:
    - Component rendering
    - User interactions
    - API service methods
    - Utility functions
  
  Integration Tests:
    - Component communication
    - API integration flows
    - Error handling scenarios
    - Data transformation
  
  E2E Tests:
    - Complete user journeys
    - Cross-browser compatibility
    - Performance benchmarks
    - Accessibility compliance
```

---

*DokumentÃ¡ciÃ³ utolsÃ³ frissÃ­tÃ©se: 2025-01-28*
*VerziÃ³: 1.0.0*
*StÃ¡tusz: Complete Implementation Documentation* 